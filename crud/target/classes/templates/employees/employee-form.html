<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <title>Save employee</title>
</head>
<body>

<div class="container mt-4">
    <h3>Employee directory</h3>
    <hr>
    <p class="h4 mb-4">Save employee</p>

    <form th:action="@{/employees/save}" th:object="${employees}" method="POST" onsubmit="return validateAgeAndDateBirth();">

        <input type="hidden" th:field="*{id}"/>

        <div class="mb-3 w-50">
            <label>First name</label>
            <input type="text" th:field="*{firstName}" class="form-control"
                   th:classappend="${#fields.hasErrors('firstName')} ? 'is-invalid' : ''"/>
            <div class="invalid-feedback" th:errors="*{firstName}">First name error</div>
        </div>

        <div class="mb-3 w-50">
            <label>Last name</label>
            <input type="text" th:field="*{lastName}" class="form-control"
                   th:classappend="${#fields.hasErrors('lastName')} ? 'is-invalid' : ''"/>
            <div class="invalid-feedback" th:errors="*{lastName}">Last name error</div>
        </div>

        <div class="mb-3 w-25">
            <label>Age</label>
            <input type="number" th:field="*{age}" class="form-control"
                   th:classappend="${#fields.hasErrors('age')} ? 'is-invalid' : ''"/>
            <div class="invalid-feedback" th:errors="*{age}">Age error</div>
        </div>

        <div class="mb-3 w-25">
            <label>Sex</label>
            <select th:field="*{sex}" class="form-select"
                    th:classappend="${#fields.hasErrors('sex')} ? 'is-invalid' : ''">
                <option value='N'>Prefer not to say</option>
                <option value='M'>Male</option>
                <option value='F'>Female</option>
            </select>
            <div class="invalid-feedback" th:errors="*{sex}">Sex error</div>
        </div>

        <div class="mb-3 w-25">
            <label>Date of birth</label>
            <input type="date" th:field="*{dateBirth}" class="form-control"
                   th:classappend="${#fields.hasErrors('dateBirth')} ? 'is-invalid' : ''"/>
            <div class="invalid-feedback" th:errors="*{dateBirth}">Date of birth error</div>
        </div>

        <div class="mb-3 form-check">
            <input type="checkbox" th:field="*{jobStatus}" class="form-check-input"
                   th:classappend="${#fields.hasErrors('jobStatus')} ? 'is-invalid' : ''"/>
            <label class="form-check-label">Currently employed</label>
            <div class="invalid-feedback" th:errors="*{jobStatus}">Job status error</div>
        </div>

        <div class="mb-3 w-50">
            <label>Level of education</label>
            <select th:field="*{levelOfEducation}" class="form-select"
                    th:classappend="${#fields.hasErrors('levelOfEducation')} ? 'is-invalid' : ''">
                <option value="4">Lyceum</option>
                <option value="5">Institute of vocational training</option>
                <option value="6">Bachelor's degree</option>
                <option value="7">Master's degree</option>
                <option value="8">PhD</option>
                <option value="N/A">No education</option>
            </select>
            <div class="invalid-feedback" th:errors="*{levelOfEducation}">Education level error</div>
        </div>

        <div class="mb-3 w-25">
            <label>Salary</label>
            <input type="number" th:field="*{salary}" step="0.01" class="form-control"
                   th:classappend="${#fields.hasErrors('salary')} ? 'is-invalid' : ''"/>
            <div class="invalid-feedback" th:errors="*{salary}">Salary error</div>
        </div>

        <button type="submit" class="btn btn-info col-2">Save</button>
    </form>

    <hr>

    <form th:action="@{/employees/list}" method="get">
        <button type="submit" class="btn btn-outline-primary">Back to employee list</button>
    </form>

</div>
</body>
</html>